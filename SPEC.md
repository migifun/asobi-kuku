# 九九チャレンジ - 仕様書

## 概要

4歳児向けの九九（掛け算）学習ブラウザゲーム。
九九の問題がランダムに出題され、ひらがなの読み仮名とともに表示される。
4つの選択肢から正解を選ぶ形式。

## ゲームフロー

1. スタート画面を表示
2. 「はじめる」ボタンを押すとゲーム開始
3. 九九の問題がランダムに1問表示される
4. 4つの選択肢ボタンから答えを選ぶ
5. 正解なら ○、不正解なら ✕ を表示
6. 「つぎへ」ボタンで次の問題へ（3に戻る）

## 画面構成

### スタート画面

- タイトル「くくチャレンジ」
- 「はじめる」ボタン

### 出題画面

- 問題表示エリア（例: `3 × 7 = ?`）
- ひらがな読み仮名（例: `さんしち にじゅういち`）
  - 読み仮名は答えを含む完全な形で表示
- 4つの選択肢ボタン（大きめのボタン、タップしやすく）

### 結果表示（出題画面上にオーバーレイ）

- 正解: ○ を大きく表示
- 不正解: ✕ を大きく表示し、正解も表示する
- 「つぎへ」ボタン

## 問題生成ルール

- 1×1 〜 9×9 の全81問からランダムに出題
- 同じ問題が連続しないようにする

## 選択肢生成ルール

- 正解1つ + 不正解3つ の計4つ
- 不正解の生成方法:
  - 正解の前後の数（±1〜±9 程度からランダム）
  - 全て異なる値であること
  - 全て1以上であること
  - 九九の答えとして存在しうる値を優先する
- 選択肢の並び順はランダムにシャッフル

## 九九の読み仮名

伝統的な九九の読み方を使用する。

例:
| 式 | 読み |
|---|---|
| 2 × 2 = 4 | ににんがし |
| 2 × 3 = 6 | にさんがろく |
| 3 × 7 = 21 | さんしちにじゅういち |
| 7 × 7 = 49 | しちしちしじゅうく |

- 答えが一桁の場合は「〇〇が〇」形式（例: にさん**が**ろく）
- 答えが二桁の場合は「〇〇〇〇」形式（例: にご**じゅう**）

## UIデザイン方針

- **カラフル・ポップ** なデザイン
- 明るい背景色
- 選択肢ボタンはそれぞれ異なる色（赤・青・黄・緑 など）
- 文字は大きく、読みやすいフォント
- 4歳児がタップ/クリックしやすい大きなボタン
- レスポンシブ対応（スマホ・タブレットで遊べるように）

## 技術スタック

- **Vite** - ビルドツール
- **TypeScript** - 言語
- **HTML/CSS** - UIライブラリなし、シンプルに構成
- **Cloudflare Pages** - デプロイ先（将来）

## プロジェクト構成（案）

```
game-9x9/
├── index.html
├── package.json
├── tsconfig.json
├── vite.config.ts
├── SPEC.md
└── src/
    ├── main.ts          # エントリーポイント
    ├── style.css         # スタイル
    ├── game.ts           # ゲームロジック（出題・判定）
    ├── kuku-data.ts      # 九九の読み仮名データ
    └── ui.ts             # 画面描画・DOM操作
```

## スコープ外（今回は作らない）

- スコア記録・保存
- 段ごとの出題モード
- 効果音・アニメーション
- ユーザー登録・認証
